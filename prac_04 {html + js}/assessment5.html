<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Degree Validation</title>

    <script>

        // Runs after the page loads
        document.addEventListener("DOMContentLoaded", function(){
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const msg = document.getElementById('errorMessage');

            function validateCheckboxSelection(){
                const checkedCount = Array.from(checkboxes).filter(checkbox => checkbox.checked).length;
                if (checkedCount > 1) {
                    // alert("Please select exactly one checkbox.");
                    msg.textContent = "Choose only one";
                    msg.style.color = "red";
                }
                else{
                    msg.textContent = "Valid"; 
                    msg.style.color = "green";
                }
            }

            checkboxes.forEach(checkbox => {
                checkbox.addEventListener("change", validateCheckboxSelection);
            });
            
        });

        // Runs only when the form is submitted
        /* function validateCheckboxSelection() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            // const checkedCount = Array.from(checkboxes).filter(checkbox => checkbox.checked).length;
            const checkedCount = [...checkboxes].filter(checkbox => checkbox.checked).length;           //spread operator
            const msg = document.getElementById('errorMessage');

            if (checkedCount !== 1) {
                // alert("Please select exactly one checkbox.");
                msg.textContent = "Choose only one";
                msg.style.color = "red";
                return false; // Prevent form submission
            }
            else{
                msg.textContent = "Submitted";
                msg.style.color = "green";
                return true; // Allow form submission if validation passes
            }
        } */
       
    </script>
</head>
<body>
    <form action="" onsubmit="return validateCheckboxSelection()">
        <fieldset>
            <legend>Degree</legend>
            <table border="0" cellspacing="0" cellpadding="15">
                <tr>
                    <td>
                        <input type="checkbox" id="user_degree_ssc" name="user_degree_ssc" value="" />SSC
                    </td>
                    <td>
                        <input type="checkbox" id="user_degree_hsc" name="user_degree_hsc" value="" />HSC
                    </td>
                    <td>
                        <input type="checkbox" id="user_degree_bsc" name="user_degree_bsc" value="" />BSc
                    </td>
                </tr>

                <tr>
                    <td colspan="3">
                        <span id="errorMessage"></span>
                    </td>
                </tr>

            </table>
        </fieldset>
        <button type="submit">Submit</button>
    </form>
</body>
</html>
